(function(){"use strict";var e={8628:function(e,s,t){var a=t(9963),i=(t(7658),t(6252)),c=t(3577),o=t.p+"img/bin.ac618532.svg";const h={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n=["fill"];var r={__name:"emojiIcon",props:["color"],setup(e){return(s,t)=>((0,i.wg)(),(0,i.iD)("svg",h,[(0,i._)("path",{fill:e.color,d:"M9 18C13.9711 18 18 13.9711 18 9C18 4.02891 13.9711 0 9 0C4.02891 0 0 4.02891 0 9C0 13.9711 4.02891 18 9 18ZM3.57187 11.0391C3.4418 10.5574 3.83555 10.125 4.33477 10.125H13.6652C14.1645 10.125 14.5582 10.5574 14.4281 11.0391C13.7812 13.4297 11.5945 15.1875 9 15.1875C6.40547 15.1875 4.21875 13.4297 3.57187 11.0391ZM7.65 7.48125L7.64297 7.47422C7.63594 7.46719 7.62891 7.45664 7.61836 7.44258C7.59727 7.41445 7.56211 7.37227 7.51992 7.32305C7.43203 7.22461 7.30898 7.09102 7.16133 6.96094C6.85195 6.68672 6.50039 6.46875 6.1875 6.46875C5.87461 6.46875 5.52305 6.68672 5.21367 6.96094C5.06602 7.09102 4.94297 7.22461 4.85508 7.32305C4.81289 7.37227 4.77773 7.41445 4.75664 7.44258C4.74609 7.45664 4.73555 7.46719 4.73203 7.47422L4.725 7.48125C4.65117 7.57969 4.52461 7.61836 4.41211 7.57969C4.29961 7.54102 4.21875 7.43555 4.21875 7.3125C4.21875 6.6832 4.4543 6.06094 4.80234 5.59687C5.14688 5.13984 5.64258 4.78125 6.1875 4.78125C6.73242 4.78125 7.22812 5.13984 7.57266 5.59687C7.9207 6.06094 8.15625 6.6832 8.15625 7.3125C8.15625 7.43203 8.07891 7.54102 7.96289 7.57969C7.84688 7.61836 7.72031 7.57969 7.65 7.48125V7.48125ZM13.275 7.48125L13.268 7.47422C13.2609 7.46719 13.2539 7.45664 13.2434 7.44258C13.2223 7.41445 13.1871 7.37227 13.1449 7.32305C13.057 7.22461 12.934 7.09102 12.7863 6.96094C12.477 6.68672 12.1254 6.46875 11.8125 6.46875C11.4996 6.46875 11.148 6.68672 10.8387 6.96094C10.691 7.09102 10.568 7.22461 10.4801 7.32305C10.4379 7.37227 10.4027 7.41445 10.3816 7.44258C10.3711 7.45664 10.3605 7.46719 10.357 7.47422L10.35 7.48125C10.2762 7.57969 10.1496 7.61836 10.0371 7.57969C9.92461 7.54102 9.84375 7.43555 9.84375 7.3125C9.84375 6.6832 10.0793 6.06094 10.4273 5.59687C10.7719 5.13984 11.2676 4.78125 11.8125 4.78125C12.3574 4.78125 12.8531 5.13984 13.1977 5.59687C13.5457 6.06094 13.7812 6.6832 13.7812 7.3125C13.7812 7.43203 13.7039 7.54102 13.5879 7.57969C13.4719 7.61836 13.3453 7.57969 13.275 7.48125V7.48125Z"},null,8,n)]))}};const l=r;var d=l;const g={width:"13",height:"22",viewBox:"0 0 13 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u=["fill"];var m={__name:"sendIcon",props:["color"],setup(e){return(s,t)=>((0,i.wg)(),(0,i.iD)("svg",g,[(0,i._)("path",{fill:e.color,d:"M1.39445 4.33522C1.29615 3.83403 1.24701 3.58343 1.28278 3.42907C1.31385 3.29501 1.38034 3.19346 1.46231 3.15486C1.55671 3.11041 1.69899 3.21876 1.98355 3.43547L11.0387 10.3313C11.3173 10.5435 11.4566 10.6496 11.4997 10.7969C11.5371 10.9249 11.5371 11.0752 11.4997 11.2032C11.4566 11.3506 11.3173 11.4566 11.0387 11.6688L1.9867 18.5623C1.70128 18.7796 1.55857 18.8883 1.46408 18.8437C1.38203 18.8049 1.31553 18.7031 1.28457 18.5688C1.24892 18.4141 1.2986 18.163 1.39796 17.6607L2.66271 11.2673C2.67972 11.1813 2.68823 11.1383 2.69163 11.0942C2.69465 11.0552 2.69468 11.0157 2.69172 10.9766C2.68839 10.9326 2.67994 10.8895 2.66306 10.8035L1.39445 4.33522Z"},null,8,u)]))}};const p=m;var f=p,C=JSON.parse('{"1":"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 🥰 😘 😗 😙 😚 😋 😛 😝 😜 🤪 🤨 🧐 🤓 😎 🤩 🥳 😏 😒 😞 😔 😟 😕 🙁 ☹️ 😣 😖 😫 😩 🥺 😢 😭 😮‍💨 😤 😠 😡 🤬 🤯 😳 🥵 🥶 😱 😨 😰 😥 😓 🤗 🤔 🤭 🤫 🤥 😶 😶 😐 😑 😬 🙄 😯 😦 😧 😮 😲 🥱 😴 🤤 😪 😵 😵‍💫 🤐 🥴 🤢 🤮 🤧 😷 🤒 🤕 🤑 🤠 😈 👿 👹 👺 🤡 💩 👻 💀 ☠️ 👽 👾 🤖 🎃 😺 😸 😹 😻 😼 😽 🙀 😿 😾 👋 🤚 🖐 ✋ 🖖 👌 🤏 ✌️ 🤞 🤟 🤘 🤙 👈 👉 👆 🖕 👇 ☝️ 👍 👎 ✊ 👊 🤛 🤜 👏 🙌 👐 🤲 🤝 🙏 ✍️ 💅 🤳 💪 🦾 🦵 🦿 🦶 👣 👂 🦻 👃 🧠 🦷 🦴 👀 👁 👅 👄 💋 🩸 🍏 🍎 🍐 🍊 🍋 🍌 🍉 🍇 🍓 🫐 🍈 🍒 🍑 🥭 🍍 🥥 🥝 🍅 🍆 🥑 🥦 🥬 🥒 🌶 🫑 🌽 🥕 🫒 🧄 🧅 🥔 🍠 🫘 🥐 🥯 🍞 🥖 🥨 🧀 🥚 🍳 🧈 🥞 🧇 🥓 🥩 🍗 🍖 🦴 🌭 🍔 🍟 🍕 🫓 🥪 🥙 🧆 🌮 🌯 🫔 🥗 🥘 🫕 🥫 🍝 🍜 🍲 🍛 🍣 🍱 🥟 🦪 🍤 🍙 🍚 🍘 🍥 🥠 🥮 🍢 🍡 🍧 🍨 🍦 🥧 🧁 🍰 🎂 🍮 🍭 🍬 🍫 🍿 🍩 🍪 🌰 🥜 🍯 🥛 🍼 ☕️ 🍵 🧃 🥤 🍶 🍺 🍻 🥂 🍷 🥃 🍸 🍹 🧉 🍾 🧊 🥄 🍴 🍽 🥣 🥡 🥢 🧂 🚓 🚑 🚒 🚐"}'),y=()=>!window.invokeNative,w=async(e,s,t,a)=>{const i={method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(s||{})};if(y())return t;const c=window.GetParentResourceName?window.GetParentResourceName():"santa_chat",o=a||c,h=await fetch(`https://${o}/${e}`,i);return await h.json()},T={tag:"default",colors:{main:{50:"#ffe3ec",100:"#ffb4c7",200:"#fc84a2",300:"#f9537d",400:"#f62358",500:"#f20a45",600:"#ac0331",700:"#7c0022",800:"#4c0014",900:"#1f0007"},"main-opacity":{50:"rgba(242, 10, 69, 0.05)",100:"rgba(242, 10, 69, 0.1)",200:"rgba(242, 10, 69, 0.2)",300:"rgba(242, 10, 69, 0.3)",400:"rgba(242, 10, 69, 0.4)",500:"rgba(242, 10, 69, 0.5)",600:"rgba(242, 10, 69, 0.6)",700:"rgba(242, 10, 69, 0.7)",800:"rgba(242, 10, 69, 0.8)",900:"rgba(242, 10, 69, 0.9)"},red:{50:"#ffe1e1",100:"#ffb1b1",200:"#ff7f7f",300:"#ff4c4c",400:"#ff1a1a",500:"#e60000",600:"#b40000",700:"#810000",800:"#500000",900:"#210000"},"red-opacity":{50:"rgba(255, 29, 29, 0);",100:"rgba(255, 29, 29, 0.1);",200:"rgba(255, 29, 29, 0.2);",300:"rgba(255, 29, 29, 0.3);",400:"rgba(255, 29, 29, 0.4);",500:"rgba(255, 29, 29, 0.5);",600:"rgba(255, 29, 29, 0.6);",700:"rgba(255, 29, 29, 0.7);",800:"rgba(255, 29, 29, 0.8);",900:"rgba(255, 29, 29, 0.9);"},white:{50:"#f2f2f2",100:"#d9d9d9",200:"#bfbfbf",300:"#a6a6a6",400:"#8c8c8c",500:"#737373",600:"#595959",700:"#404040",800:"#262626",900:"#0d0d0d"},background:{50:"#f2f2f2",100:"#d9d9d9",200:"#bfbfbf",300:"#a6a6a6",400:"#8c8c8c",500:"#737373",600:"#595959",700:"#404040",800:"#262626",900:"#0d0d0d"}},borders:{}},b=e=>{let s=0;const t=()=>{try{w("getTheme",{},T,"vrp").then((s=>{console.log("themes(chat)[vue]: theme found, using it"),e(s)}))}catch(a){s<5?(console.log(`themes(chat)[vue]: attemping ${s+1}/5`),setTimeout(t,2e4)):(console.log("themes(chat)[vue]: no theme found, using default theme"),e(T)),s++}};t()};const k=e=>((0,i.dD)("data-v-c3ecc446"),e=e(),(0,i.Cn)(),e),v={id:"app"},M={id:"chat-area",ref:"chatAreaRef"},j={class:"message-sendedBy"},_=["onClick"],O=k((()=>(0,i._)("img",{src:o},null,-1))),$=[O],A={key:0,id:"input-area"},D={class:"input-box"},I={class:"commandPrompt"},R={key:0,class:"filter-types-area"},x=["onClick"],L={class:"emoji-area"},P=["onClick"],H={data(){return{emojiPickerOpened:!1,emojiList:C[1].split(" "),blockedMessages:[],chatOpened:!1,showInput:!1,chatTypes:[],isAdmin:y(),selectedChatType:"all",listener:null,input:null,notifyToggled:!1,message:"",messages:[],messagesRef:null,cachedMessages:[],currCachedMsg:1,theme:T}},watch:{messages:{handler(){(this.notifyToggled||this.showInput)&&(this.showChatTimer&&clearTimeout(this.showChatTimer),this.chatOpened?this.$nextTick((()=>{const e=this.$refs.messagesRef,s=this.messages.length;s>0&&e.scrollHeight&&(e.scrollTop=e.scrollHeight)})):(this.$nextTick((()=>{this.chatOpened=!0,this.showInput=!1;const e=this.$refs.messagesRef,s=this.messages.length;s>0&&e.scrollHeight&&(e.scrollTop=e.scrollHeight)})),this.showChatTimer=setTimeout((()=>{this.chatOpened=!1}),300),this.resetShowChatTimer()))},deep:!0}},computed:{filteredMessages(){return"all"!==this.selectedChatType?this.messages.filter((e=>e.type===this.selectedChatType||"megaphone"===e.type||"Admin"===e.type)):this.messages}},methods:{deleteMessage(e){w("ChatDelete",{message:e})},changeChatType(e){this.selectedChatType=e;const s=this.$refs.messagesRef;this.$nextTick((()=>{s.scrollTop=s.scrollHeight}))},isCommand(){return"/"===this.message[0]},getTagAndClear(){return this.message.startsWith("!staff ")?(this.message=this.message.replace("!staff ",""),"Admin"):this.message.startsWith("!gl ")?(this.message=this.message.replace("!gl ",""),"global"):this.message.startsWith("!help ")?(this.message=this.message.replace("!help ",""),"ajuda"):this.message.startsWith("!gr ")?(this.message=this.message.replace("!gr ",""),this.chatTypes[0]):"all"==this.selectedChatType?"local":this.selectedChatType},changeNotify(){this.notifyToggled=!this.notifyToggled},checkBlockedMessages(){let e=!1;return this.message.split(" ").map((s=>{this.blockedMessages.forEach((s=>{this.message.includes(s)&&(e=!0)}))})),!e},checkFlood(){if(this.isCommand()||this.isAdmin)return!0;let e=!1;return this.cachedMessages.map((s=>{s!==this.message||(e=!0)})),!e},send(){if(""!==this.message){if(this.checkBlockedMessages()&&this.checkFlood()){this.cachedMessages.length>5&&this.cachedMessages.shift(),this.cachedMessages.push(this.message);const e=this.getTagAndClear();w("ChatSubmit",{message:this.message,tag:e}),this.message="",this.hideInput()}}else this.hideInput()},keyUp(){console.log("keyUp"),this.currCachedMsg>5||this.currCachedMsg>this.cachedMessages.length||(this.message=this.cachedMessages[this.cachedMessages.length-this.currCachedMsg],this.currCachedMsg++)},keyDown(){this.currCachedMsg<=1||(this.currCachedMsg--,this.message=this.cachedMessages[this.cachedMessages.length-this.currCachedMsg])},clear(){this.messages=[]},selectEmoji(e){this.message+=e,this.emojiPickerOpened=!1},clearShowChatTimer(){clearTimeout(this.showChatTimer)},resetShowChatTimer(){this.clearShowChatTimer(),this.showChatTimer=setTimeout((()=>{this.showInput||(this.chatOpened=!1)}),3e3)},hideInput(){this.message="",this.showInput=!1,this.notifyToggled?this.resetShowChatTimer():this.chatOpened=!1,w("close")}},destroyed(){clearInterval(this.focusTimer),window.removeEventListener("message",this.listener)},mounted(){b((e=>{this.theme=e,document.documentElement.style.setProperty("--color-primary",e.colors.main[500])})),this.listener=window.addEventListener("message",(e=>{const s=e.data||e.detail;switch(s.Action){case"Chat":this.chatOpened=!0,this.showInput=!0,this.currCachedMsg=1,this.chatTypes=s.Data,this.blockedMessages=s.Block,this.isAdmin=this.chatTypes.includes("Admin"),setTimeout((()=>{this.$nextTick((()=>{this.$refs.input.focus(),this.$refs.messagesRef.scrollTop=this.$refs.messagesRef.scrollHeight}))}),125);break;case"Message":this.messages.push({type:s.Type,vip:s.Vip,author:s.Author,content:s.Message,custom:s.Custom});break;case"Delete":this.messages=this.messages.filter((e=>e.content!==s.Message));break;case"Toggle":s.toggle||(this.clearShowChatTimer(),this.chatOpened=!1,this.showInput=!1),this.notifyToggled=s.toggle;break;case"ChatScale":const e=s.scale;let t=1.771,a=2.031,i=t*e-2,c=a*e+1;1==e?(i=t,c=a):(i=t*e-2,c=a*e+1),this.$refs.chatAreaRef.style.left=`${i}vw`,this.$refs.chatAreaRef.style.top=`${c}vw`,this.$refs.chatAreaRef.style.transform=`scale(${e})`;break;default:break}})),window.addEventListener("keydown",(e=>{if("Escape"==e.code?this.hideInput():"ArrowUp"==e.code?this.keyUp():"ArrowDown"==e.code&&this.keyDown(),y())if("KeyR"==e.code){const e=.8;let s=1.771,t=2.031,a=s*e-2,i=t*e+1;this.$refs.chatAreaRef.style.left=`${a}vw`,this.$refs.chatAreaRef.style.top=`${i}vw`,this.$refs.chatAreaRef.style.transform=`scale(${e})`}else"KeyT"==e.code?(this.chatOpened=!0,this.showInput=!0,this.currCachedMsg=1,this.isAdmin=this.chatTypes.includes("Admin"),setTimeout((()=>{this.$nextTick((()=>{this.$refs.input.focus(),this.$refs.messagesRef.scrollTop=this.$refs.messagesRef.scrollHeight}))}),125)):"KeyY"==e.code?(this.showInput=!this.showInput,this.chatOpened=!1):"KeyP"==e.code?this.chatToggle=!this.chatToggle:"KeyU"==e.code&&this.messages.push({type:"global",author:"Usuário Teste",content:this.messages.length+" Lorem <b>ipsum</b> dolor sit amet, consectetur adipiscing elit. Donec euismod, nisl eget ultricies ultrices, nisl nisl tincid"})}))}};var B=Object.assign(H,{__name:"App",setup(e){return(e,s)=>{const t=(0,i.up)("content");return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",M,[(0,i.Wm)(a.uT,{name:"slide-up"},{default:(0,i.w5)((()=>[e.chatOpened?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"messages-area",id:"scroll",style:(0,c.j5)({"overflow-y":e.showInput?"auto":"hidden"}),ref:"messagesRef"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredMessages,((s,o)=>((0,i.wg)(),(0,i.iD)("div",{class:"message",key:o},[(0,i._)("span",{class:(0,c.C_)(["message-type",{chamado:"chamado"===s.type,advertencia:"advertencia"===s.type,Admin:"Admin"===s.type,ajuda:"ajuda"===s.type,megaphone:"megaphone"===s.type}]),style:(0,c.j5)(s.custom&&s.custom)},(0,c.zw)(s.type),7),(0,i._)("div",{class:(0,c.C_)(["message-content",{chamado:"chamado"===s.type,advertencia:"advertencia"===s.type,Admin:"Admin"===s.type,ajuda:"ajuda"===s.type,megaphone:"megaphone"===s.type}]),style:(0,c.j5)(s.custom&&s.custom)},[(0,i._)("span",j,(0,c.zw)(s.vip)+" "+(0,c.zw)(s.author)+": ",1),(0,i.Wm)(t,{innerHTML:s.content},null,8,["innerHTML"]),(0,i.wy)((0,i._)("button",{class:"delete",onClick:()=>e.deleteMessage(s.content)},$,8,_),[[a.F8,e.isAdmin]])],6)])))),128))],4)):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(a.uT,null,{default:(0,i.w5)((()=>[e.showInput?((0,i.wg)(),(0,i.iD)("div",A,[(0,i._)("div",D,[(0,i._)("div",I,[(0,i.wy)((0,i._)("input",{type:"text",maxlength:"250",spellcheck:"false",class:"input","onUpdate:modelValue":s[0]||(s[0]=s=>e.message=s),autofocus:"",onKeypress:s[1]||(s[1]=(0,a.D2)((0,a.iM)(((...s)=>e.send&&e.send(...s)),["prevent"]),["enter"])),ref:"input",placeholder:"Digite sua mensagem aqui..."},null,544),[[a.nr,e.message]])]),(0,i.Wm)(d,{color:e.theme.colors.main[500],style:(0,c.j5)({opacity:e.emojiPickerOpened?"1":".5"}),onClick:s[2]||(s[2]=s=>e.emojiPickerOpened=!e.emojiPickerOpened),class:"emoji"},null,8,["color","style"]),(0,i.Wm)(f,{color:e.theme.colors.main[500],onClick:e.send,class:"send"},null,8,["color","onClick"])])])):(0,i.kq)("",!0)])),_:1}),e.showInput?((0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("button",{class:(0,c.C_)(["chatTypeBackground",{selected:"all"===e.selectedChatType}]),onClick:s[3]||(s[3]=()=>e.changeChatType("all"))}," Todos ",2),(0,i._)("button",{class:(0,c.C_)(["chatTypeBackground",{selected:"global"===e.selectedChatType}]),onClick:s[4]||(s[4]=()=>e.changeChatType("global"))}," Global ",2),(0,i._)("button",{class:(0,c.C_)(["chatTypeBackground",{selected:"ajuda"===e.selectedChatType}]),onClick:s[5]||(s[5]=()=>e.changeChatType("ajuda"))}," Ajuda ",2),(0,i._)("button",{class:(0,c.C_)(["chatTypeBackground",{selected:"local"===e.selectedChatType}]),onClick:s[6]||(s[6]=()=>e.changeChatType("local"))}," Local ",2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.chatTypes,((s,t)=>((0,i.wg)(),(0,i.iD)("button",{class:(0,c.C_)(["chatTypeBackground",{selected:e.selectedChatType===s}]),key:t,onClick:()=>e.changeChatType(s)},(0,c.zw)(s),11,x)))),128)),(0,i.wy)((0,i._)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.emojiList,((s,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"emoji-item",onClick:()=>e.selectEmoji(s),key:t},(0,c.zw)(s),9,P)))),128))],512),[[a.F8,e.emojiPickerOpened]])])):(0,i.kq)("",!0)],512)])}}}),S=t(3744);const E=(0,S.Z)(B,[["__scopeId","data-v-c3ecc446"]]);var K=E;const W=(0,a.ri)(K);W.mount("#app")}},s={};function t(a){var i=s[a];if(void 0!==i)return i.exports;var c=s[a]={exports:{}};return e[a](c,c.exports,t),c.exports}t.m=e,function(){var e=[];t.O=function(s,a,i,c){if(!a){var o=1/0;for(l=0;l<e.length;l++){a=e[l][0],i=e[l][1],c=e[l][2];for(var h=!0,n=0;n<a.length;n++)(!1&c||o>=c)&&Object.keys(t.O).every((function(e){return t.O[e](a[n])}))?a.splice(n--,1):(h=!1,c<o&&(o=c));if(h){e.splice(l--,1);var r=i();void 0!==r&&(s=r)}}return s}c=c||0;for(var l=e.length;l>0&&e[l-1][2]>c;l--)e[l]=e[l-1];e[l]=[a,i,c]}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p=""}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var i,c,o=a[0],h=a[1],n=a[2],r=0;if(o.some((function(s){return 0!==e[s]}))){for(i in h)t.o(h,i)&&(t.m[i]=h[i]);if(n)var l=n(t)}for(s&&s(a);r<o.length;r++)c=o[r],t.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return t.O(l)},a=self["webpackChunkbox"]=self["webpackChunkbox"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(8628)}));a=t.O(a)})();
//# sourceMappingURL=app.9f576cc2.js.map